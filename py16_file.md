# 文件 File
- 文件是用于存储数据的基本单位
- 文件通常用来长期存储数据
- 文件中数据是以字节为单位进行顺序存储的
## 文件的操作的流程
1. 打开文件
2. 读/写文件
3. 关闭文件
- 注意 : 任何的操作系统,一个应用程序同时打开文件的数量有最大数限制
## 文件的打开函数
- open(filename, mode="rt")用于打开一个文件,返回此用来操作此文件的文件流对象,如果打开失败,则会出发OSError错误通知
## 文件流的关闭方法
- F.close() 关闭文件释放系统资源
- 示例
## 以十六进制方式显示文件内容的命令
- $ xxd 文件名
- ABCD/n1234/n中文
- 00000000: 4142 4344 0a31 3233 340a e4b8 ade6 9687  ABCD.1234.......
- 00000010: 0a 
## repr()
- 把一个对象装换成python的表达式
## python中文本文件的读写操作
### mode 模式字符的含义
字符 	|含义
---|---
'r'     |以只读方式打开(默认)
'w' 	|以只写方式打开，删除原有文件内容(如果文件不存在，则创建该文件并以只写方式打开)
'x' 	|创建一个新文件, 并以写模式打开这个文件,如果文件存在则会产生"FileExistsError"错误
'a' 	|以只写文件打开一个文件，如果有原文件则追加到文件末尾
'b' 	|用二进制模式打开
't' 	|文本文件模式打开 (默认)
'+' 	|为更新内容打开一个磁盘文件 (可读可写)

- 缺省模式是 'rt'
- 'w+b' 可以实现二进制随机读写，当打开文件时，文件内容将被清零
- 'r+b' 以二进制读和更新模式打开文件,打开文件时不会清空文件内容
-  'r+' 以文本模式读和更新模式打开文件,打开文件时不会清空文件内容

### python 文件常用方法:
方法 	|说明
---|---
F.close() 	|关闭文件(关闭后文件不能再读写会发生ValueError错误)
读取数据方法 	|
F.read(size=-1) |	从一个文件流中最多读取size个字符(文本文件)或字节(二进制文件),如果不给出参数，则默认读取文件中全部的内容并返回
F.readline(size) |	读取一行数据, 如果到达文件尾则返回空行
F.readlines(max_chars=-1) |	返回每行字符串的列表,max_chars为最大字符(或字节)数
写入数据方法 |	
F.write(text) |	写一个字符串到文件流中，返回写入的字符数(文本文件)或字节数(二进制文件)
F.writelines(lines) |	将字符串的列表或字符串的列表中的内容写入文件
F.tell() 	|返回当前文件流读写指针的绝对位置(字节为单位)
F.seek(offset, whence=0) 	|改变数据流读写指针的位置，返回新的绝对位置
F.flush() 	|把写入文件对象的缓存内容写入到磁盘

### python3的文本文件模式
- 模式字符 't'
- 说明:
    - 对文本文件的读写操作西药用字符串(str)进行读写操作
    - 在读写过程中会自动进行编码(encode) 和解码(decode)操作
    - 以行为单位分割,在python内部统一用'\n'作用换行符进行分割
- 各操作系统的换行符:
    - Linux换行符:'\n'
    - Windows换行符 '\r\n'
    - 新的Mac OS的换行符 '\n'

### 文件写操作
- 方法
    - F.write(x)
    - F.writelinex(lines)
    
# 二进制文件操作
- 二进制模式字符:'b'
- 默认文件中存储的都是以字节(byte)为单位的数据,通常人
    人为的格式
- 对二进制文件的读写需要用字符串(bytes) 或字节
    - 数组(bytearray)进行操作

-  对于二进制文件读写方法都 需要用字节为单位进行操作
    - F.read(n)
    - F.readline()
    - F.readlines()
    - F.write(字节串)
    - F.writelines(字节串组成的列表)
-  示例见:
    - file_read_binary.py
-  二进制文件的写操作示例见:
    - file_write_binary.py



## F.seek 方法
- 作用
    - 设置文件的读写位置,返回新的读写位置
- 格式
    - F.seek(偏移量,whence=相对位置)
        - 偏移量 : 大于0代表向文件末尾方向移动  
        小于0代表向文件头方向移动
    - 相对位置
        - 0 代表从文件头开始偏移
        - 1 代表从当前读写位置开始偏移
        - 2 代表从文件尾开始偏移
- 示例lx5

# 标准输入输出文件
- 模块名
    sys
    sys.stdin 标准输入文件(默认为键盘)
    sys.stdout 标准输出文件(默认为终端)
    sys.stderr 标准错误输出文件(默认为屏幕终端)
- 标准文件不需要打开既可以使用,也不用动手关闭

# 汉字编码问题
- 只有两种
1. 国标系列:
    - GB18030(二字节或四字节编码,27533个字)
        - GBK (二字节编码,20013个字)
            - GB2313(二字节编码,约七千多个字1980年)
    (windows常用)    
2. 国际标准:
    - UNICODE 
    - (Linux/Mac OS X/ IOS/ Android 常用)
    - 英文ASCII (0x0 - 0x7F) 一字节  
        (0x80 - 0x3FF)         二字节  
        (0x400 - 0xFFFF)       三字节(中文在此区)  
## python 编码字符串:
```
  'gb2312'
  'gbk'
  'gb18030'
  'utf-8'
  'ascii'
  ...
```
- 如:
```
    s = "你好"
    print(s.encode('gbk'))
    print(s.encode('utf-8'))
    print(s.encode('ascii'))#出错,"你好"不在ascii内
```


## 编码注释:
  - 在源文件中,第一行或第二行写入的如下内容是编码注释
- `# -*- coding:gbk -*- `
  或 
- `# -*- coding:utf-8 -*-`

#练习:
1. 写程序实现复制文件的功能
    - 要求:
       1. 要考虑超大文件问题
       2. 要能复制二进制文件(如:图片等)
       3. 要考虑关闭文件

2. 改写原学生信息管理程序,要求加入如下两个功能:
- | 9) 从文件中读取数据(si.txt)  |
- | 10) 保存信息到文件(si.txt)   |